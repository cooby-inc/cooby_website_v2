"use strict";function showErrorModalWithMsg(e){$("#errorModal").modal("show"),$("#errorModal #errorMsg").text(e)}function setActivateAccountLoading(e){e?($("#redemption_form #redeem_button").prop("disabled",!0),$("#redemption_form #redeem_button span").show(),$("#redemption_form #redeem_button p").hide()):($("#redemption_form #redeem_button").prop("disabled",!1),$("#redemption_form #redeem_button span").hide(),$("#redemption_form #redeem_button p").show())}!function(){var e=document.querySelectorAll(".svg-shim > svg");/MSIE \d|Trident.*rv:/.test(navigator.userAgent)&&[].forEach.call(e,function(e){!function(e){var t=window.getComputedStyle(e,null).getPropertyValue("color"),o=(new XMLSerializer).serializeToString(e);o="data:image/svg+xml,"+(o=(o=(o=(o=(o=(o=o.replace(/currentColor/g,t)).replace(/\s\s+/g," ")).replace(/</g,"%3C")).replace(/>/g,"%3E")).replace(/#/g,"%23")).replace(/"/g,"'"));var n=document.createElement("img");n.src=o,n.alt="...";var a=e.parentNode;a.appendChild(n),a.removeChild(e)}(e)})}(),"undefined"!=typeof AOS&&AOS.init({duration:700,easing:"ease-out-quad",once:!0,startEvent:"load"}),function(){var e=document.querySelectorAll("[data-choices]");"undefined"!=typeof Choices&&e&&[].forEach.call(e,function(e){!function(e){var t=e.dataset.choices?JSON.parse(e.dataset.choices):{},o={searchEnabled:!1,classNames:{containerInner:e.className,list:"none",listSingle:"none",listDropdown:"dropdown-menu",itemChoice:"dropdown-item",activeState:"show",selectedState:"active"}},n=Object.assign(o,t);new Choices(e,n)}(e)})}(),function(){var e=document.querySelectorAll('[data-toggle="countup"]');function o(e){var t=e.dataset.from?+e.dataset.from:null,o=e.dataset.to?+e.dataset.to:null,n=e.dataset.decimals?+e.dataset.decimals:null,a=e.dataset.duration?+e.dataset.duration:null,i=e.dataset.options?JSON.parse(e.dataset.options):null,r=new CountUp(e,t,o,n,a,i);r.error?console.error(r.error):(r.start(),e.classList.add("counted"))}"undefined"!=typeof CountUp&&e&&[].forEach.call(e,function(e){"countup:in"!==e.getAttribute("data-aos-id")&&o(e)}),document.addEventListener("aos:in:countup:in",function(e){if(e.detail instanceof Element)o(e.detail);else{var t=document.querySelectorAll('.aos-animate[data-aos-id="countup:in"]:not(.counted)');[].forEach.call(t,function(e){o(e)})}})}(),function(){var e=document.querySelectorAll(".navbar-nav .dropdown, .navbar-nav .dropright"),n=["mouseenter"],a=["mouseleave","click"];[].forEach.call(e,function(t){var o=t.querySelector(".dropdown-menu");n.forEach(function(e){t.addEventListener(e,function(){!function(e){window.innerWidth<992||(e.classList.add("showing"),setTimeout(function(){e.classList.remove("showing"),e.classList.add("show")},1))}(o)})}),a.forEach(function(e){t.addEventListener(e,function(e){!function(e,t){window.innerWidth<992||t.classList.contains("show")&&("click"===e.type&&e.target.closest(".dropdown-menu form")||(t.classList.add("showing"),t.classList.remove("show"),setTimeout(function(){t.classList.remove("showing")},200)))}(e,o)})})})}(),function(){var e=document.querySelectorAll("[data-dropzone]");"undefined"!=typeof Dropzone&&e&&(Dropzone.autoDiscover=!1,Dropzone.thumbnailWidth=null,Dropzone.thumbnailHeight=null,[].forEach.call(e,function(e){!function(e){var t=void 0,o=e.dataset.dropzone?JSON.parse(e.dataset.dropzone):{},n={previewsContainer:e.querySelector(".dz-preview"),previewTemplate:e.querySelector(".dz-preview").innerHTML,init:function(){this.on("addedfile",function(e){1==o.maxFiles&&t&&this.removeFile(t),t=e})}},a=Object.assign(n,o);e.querySelector(".dz-preview").innerHTML="",new Dropzone(e,a)}(e)}))}(),jQuery().fancybox&&($.fancybox.defaults.image.preload=!1,$.fancybox.defaults.toolbar=!1,$.fancybox.defaults.clickContent=!1),function(){var e=document.querySelectorAll(".highlight");"undefined"!=typeof hljs&&e&&[].forEach.call(e,function(e){!function(e){hljs.highlightBlock(e)}(e)})}(),function(){var e=$("[data-isotope]");$("[data-filter]").on("click",function(){var e=$(this),t=e.data("filter"),o=e.data("target");$(o).isotope({filter:t})}),e.imagesLoaded().progress(function(){e.isotope("layout")})}(),function(){var e=document.querySelectorAll('[data-toggle="map"]');"undefined"!=typeof mapboxgl&&e&&[].forEach.call(e,function(e){!function(e){var t=e.dataset.options;t=t?JSON.parse(t):{};var o={container:e,style:"mapbox://styles/mapbox/light-v9",scrollZoom:!1,interactive:!1},n=Object.assign(o,t);mapboxgl.accessToken="pk.eyJ1IjoiZ29vZHRoZW1lcyIsImEiOiJjanU5eHR4N2cybDU5NGVwOHZwNGprb3E0In0.msdw9q16dh8v4azJXUdiXg",new mapboxgl.Map(n)}(e)})}(),function(){var e=document.querySelectorAll(".modal");function t(){var e=window.innerWidth-document.documentElement.clientWidth;document.documentElement.style.overflow="hidden",document.body.style.paddingRight=e+"px"}$(e).on({"show.bs.modal":function(){t()},"hidden.bs.modal":function(){document.documentElement.style.overflow="",document.body.style.paddingRight=""}})}(),function(){var e=document.querySelectorAll(".navbar-togglable"),t=document.querySelectorAll(".navbar-collapse"),o=["load","scroll"],n=!1;function a(e){var t=window.pageYOffset;t&&!n&&function(e){e.classList.remove("navbar-dark"),e.classList.add("navbar-light"),e.classList.add("bg-white"),n=!0}(e),t||function(e){e.classList.remove("navbar-light"),e.classList.remove("bg-white"),e.classList.add("navbar-dark"),n=!1}(e)}function i(){var e=window.innerWidth-document.documentElement.clientWidth;document.documentElement.style.overflow="hidden",document.body.style.paddingRight=e+"px"}[].forEach.call(e,function(t){o.forEach(function(e){window.addEventListener(e,function(){a(t)})})}),[].forEach.call(t,function(e){$(e).on({"show.bs.collapse":function(){i()},"hidden.bs.collapse":function(){document.documentElement.style.overflow="",document.body.style.paddingRight=""}})})}(),function(){var e=document.querySelectorAll('[data-toggle="popover"]');e&&$(e).popover({template:'<div class="popover" role="tooltip"><div class="arrow"></div><h6 class="popover-header text-uppercase"></h6><div class="popover-body"></div></div>'})}(),function(){var e=document.querySelector('[data-toggle="price"]');function a(n){var e=document.querySelectorAll(".desc");[].forEach.call(e,function(e){var t=e.dataset.annual,o=e.dataset.monthly;e.innerHTML=n?o:t})}e&&a(e.checked),"undefined"!=typeof CountUp&&e&&e.addEventListener("change",function(e){!function(e){var t=e.target,c=t.checked,o=t.dataset.target,n=document.querySelectorAll(o);[].forEach.call(n,function(e){var t=e.dataset.annual,o=e.dataset.monthly,n=e.dataset.decimals?e.dataset.decimals:null,a=e.dataset.duration?e.dataset.duration:1,i=e.dataset.options?JSON.parse(e.dataset.options):null,r=c?new CountUp(e,t,o,n,a,i):new CountUp(e,o,t,n,a,i);r.error?console.error(r.error):r.start()}),a(c)}(e)})}(),function(){var e=document.querySelectorAll("[data-quill]");"undefined"!=typeof Quill&&e&&[].forEach.call(e,function(e){!function(e){var t=e.dataset.quill?JSON.parse(e.dataset.quill):{},o=Object.assign({modules:{toolbar:[["bold","italic"],["link","blockquote","code","image"],[{list:"ordered"},{list:"bullet"}]]},theme:"snow"},t);new Quill(e,o)}(e)})}(),function(){var e='[data-toggle="smooth-scroll"]';"undefined"!=typeof SmoothScroll&&new SmoothScroll(e,{header:".navbar.fixed-top",offset:function(e,t){return t.dataset.offset?t.dataset.offset:24}})}(),function(){var e=document.querySelectorAll('[data-toggle="tooltip"]');e&&$(e).tooltip()}(),function(){var e=document.querySelectorAll('[data-toggle="typed"]');"undefined"!=typeof Typed&&e&&[].forEach.call(e,function(e){!function(e){var t=e.dataset.options;t=t?JSON.parse(t):{};var o=Object.assign({typeSpeed:40,backSpeed:40,backDelay:1e3,loop:!0},t);new Typed(e,o)}(e)})}(),function(r){function n(e){this.element=r(e)}n.prototype={constructor:n,show:function(){var e,t,o,n=this.element,a=n.closest("ul:not(.dropdown-menu)"),i=n.attr("data-target");i=i||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,""),n.parent("li").hasClass("active")||(e=a.find(".active a").last()[0],o=r.Event("show",{relatedTarget:e}),n.trigger(o),o.isDefaultPrevented()||(t=r(i),this.activate(n.parent("li"),a),this.activate(t,t.parent(),function(){n.trigger({type:"shown",relatedTarget:e})})))},activate:function(e,t,o){var n=t.find("> .active"),a=o&&r.support.transition&&n.hasClass("fade");function i(){n.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),o&&o()}a?n.one(r.support.transition.end,i):i(),n.removeClass("in")}},r.fn.tab=function(o){return this.each(function(){var e=r(this),t=e.data("tab");t||e.data("tab",t=new n(this)),"string"==typeof o&&t[o]()})},r.fn.tab.Constructor=n,r(function(){r("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),r(this).tab("show")})})}(window.jQuery),$('a[data-toggle="tab"]').on("show",function(e){var t=e.target.href;switch(t=t&&t.replace(/.*(?=#[^\s]*$)/,""),console.log(t),t){case"#client-score":$(".video-tab").removeClass("active"),$("#client-score-video").addClass("active");break;case"#keep-in-touch":$(".video-tab").removeClass("active"),$("#keep-in-touch-video").addClass("active");break;case"#custom":$(".video-tab").removeClass("active"),$("#custom-video").addClass("active")}}),$("#signup_form").submit(function(e){e.preventDefault(),$.post({url:"https://api.cooby.co/leads",data:$(this).serialize(),success:function(e){console.log("success"),$("#modalSignupHorizontal").modal("hide"),$("#downloadAndScheduleModal").modal("show")}})}),$("#scheduleModalBtn").click(function(e){$("#scheduleModal").modal("hide")}),$("#downloadAndScheduleModalBtn").click(function(e){$("#downloadAndScheduleModal").modal("hide")}),$(document).ready(function(){-1!=window.location.href.indexOf("#signupModal")&&$("#modalSignupHorizontal").modal("show")}),$("#redemption_form").on("submit",function(e){e.preventDefault(),setActivateAccountLoading(!0);var t=$("#redemption_form :input"),o={};if(t.each(function(){o[this.name]=$(this).val().trim()}),0===o.redemption_code.length)return showErrorModalWithMsg("Redemption code should not be empty"),void setActivateAccountLoading(!1);if(o.password.length<8||o.confirmPassword.length<8)return showErrorModalWithMsg("Password should be minimum 8 characters"),void setActivateAccountLoading(!1);if(o.password!==o.confirmPassword)return showErrorModalWithMsg("Passwords do not match"),void setActivateAccountLoading(!1);var n="https://cooby-taroko.herokuapp.com";$.ajax({type:"POST",url:n+"/users",contentType:"application/json",crossDomain:!0,data:JSON.stringify(o),success:function(e){var t="Bearer "+e.token;$.ajax({type:"PUT",url:n+"/info",crossDomain:!0,contentType:"application/json",data:JSON.stringify({lang:"en",name:o.name,company:o.company,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}),beforeSend:function(e){e.setRequestHeader("Authorization",t)},success:function(e){setActivateAccountLoading(!1),window.location=window.location.protocol+"/redeem-success.html?email="+o.email},error:function(e){setActivateAccountLoading(!1),showErrorModalWithMsg(e)}})},error:function(e){console.log(e),setActivateAccountLoading(!1),showErrorModalWithMsg(e.responseJSON.error_message)}})});